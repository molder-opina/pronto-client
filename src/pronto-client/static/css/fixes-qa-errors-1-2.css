/* ============================================================================
   QA FIXES - ERRORS #1 & #2
   - ERROR #1: Ensure checkout button is always visible and clickable
   - ERROR #2: Prevent modal overlay from intercepting form element clicks
   ============================================================================ */

/* FIX ERROR #1: Make checkout submit button and parent containers always visible and functional */
.accordion-content {
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

.checkout-submit-btn {
  visibility: visible !important;
  opacity: 1 !important;
  display: inline-flex !important;
  position: relative !important;
  z-index: 10 !important;
  pointer-events: auto !important;
  cursor: pointer !important;
  width: 100% !important;
  height: auto !important;
  max-height: none !important;
  overflow: visible !important;
  margin-top: 1rem !important;
}

/* Ensure button is always clickable even when disabled */
.checkout-submit-btn:disabled {
  pointer-events: auto !important;
}

.checkout-submit-btn.btn--disabled {
  opacity: 0.6 !important;
  pointer-events: auto !important;
  cursor: not-allowed !important;
}

/* Make checkout summary visible */
.checkout-summary {
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  z-index: 1 !important;
  pointer-events: auto !important;
}

/* FIX ERROR #2: Ensure modal elements don't block clicks on form fields */

/* Modal overlay should not intercept clicks on inputs/labels inside */
#item-modal .modal-overlay {
  pointer-events: none !important;
}

/* Make modal content clickable */
#item-modal .modal {
  pointer-events: auto !important;
}

/* Modal body and footer elements must be clickable */
#item-modal .modal-body,
#item-modal .modal-footer {
  pointer-events: auto !important;
  position: relative !important;
  z-index: 101 !important;
}

/* All interactive elements inside modal must be clickable */
#item-modal .modal-body input,
#item-modal .modal-body label,
#item-modal .modal-body select,
#item-modal .modal-body textarea,
#item-modal .modal-body button,
#item-modal .modal-footer input,
#item-modal .modal-footer label,
#item-modal .modal-footer select,
#item-modal .modal-footer textarea,
#item-modal .modal-footer button {
  pointer-events: auto !important;
  position: relative !important;
  z-index: 102 !important;
}

/* Specifically fix modifier and extra options interaction */
#item-modal .extra-option input[type="checkbox"],
#item-modal .extra-option input[type="radio"],
#item-modal .extra-option label {
  pointer-events: auto !important;
  z-index: 102 !important;
}

/* Ensure modal-add-to-cart button is clickable */
.modal-add-to-cart {
  pointer-events: auto !important;
  position: relative !important;
  z-index: 102 !important;
  cursor: pointer !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Remove any blocking layers */
#item-modal .modal-overlay-backdrop {
  pointer-events: none !important;
}

/* Ensure cart panel footer with checkout button is visible */
.cart-footer {
  position: relative !important;
  z-index: 10 !important;
  pointer-events: auto !important;
  visibility: visible !important;
  opacity: 1 !important;
}

#checkout-btn {
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* Responsive fix: ensure button stays visible on mobile */
@media (max-width: 768px) {
  .checkout-submit-btn {
    padding: 1rem !important;
    font-size: 1rem !important;
  }

  #item-modal .modal {
    width: 100% !important;
    max-width: 100% !important;
    height: 100vh !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
  }

  #item-modal .modal-footer {
    position: sticky !important;
    bottom: 0 !important;
    z-index: 100 !important;
  }
}
